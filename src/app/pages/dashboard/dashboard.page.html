@if (role == "doctor" || role == "medico") {
<ion-menu contentId="main-content">
  <ion-header>
    <ion-toolbar>
      <ion-title>Menu</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content class="ion-padding">
    <!--Espacio para poner botones en la barra lateral-->
    <ion-list>
      <ion-item button (click)="fnGoToProfile()">
        <ion-icon slot="start" name="person-circle-outline"></ion-icon>
        <ion-label>Mi Perfil</ion-label>
      </ion-item>

      <ion-item button (click)="fnGoToSettings()">
        <ion-icon slot="start" name="settings-outline"></ion-icon>
        <ion-label>Configuración</ion-label>
      </ion-item>

      <ion-item button (click)="fnLogout()">
        <ion-icon slot="start" name="log-out-outline"></ion-icon>
        <ion-label>Cerrar Sesión</ion-label>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-menu>
<div class="ion-page" id="main-content">
  <ion-header>
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-menu-button></ion-menu-button>
      </ion-buttons>
      <ion-title>VirtualMed</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content [fullscreen]="true" class="ion-padding">
    <ion-grid>
      <ion-row>
        <ion-col size="12" size-md="8">
          <ion-row>
            <ion-col>
              <h1 class="title">{{greeting}}</h1>
              <br />
              <h2>¿Qué deseas hacer hoy?</h2>
              <br />
            </ion-col>
          </ion-row>
          <ion-row>
            <!--Botón de agendar cita-->
            <ion-col size="12" size-md="6">
              <button
                type="button"
                class="btn-custom"
                (click)="fnGoToCreateAppointment()"
              >
                Agendar citas
              </button>
            </ion-col>

            <!--Botón de ver y gestionar citas-->
            <ion-col size="12" size-md="6">
              <button
                type="button"
                class="btn-custom"
                (click)="fnGoToManagement()"
              >
                Gestionar citas
              </button>
            </ion-col>

            <ion-col size="12" size-md="6">
              <button
                type="button"
                class="btn-custom"
                (click)="fnGoToClassifier()"
              >
                Usar Clasificador de Tumores
              </button>
            </ion-col>

            <!--Botón de recetas-->
            <ion-col size="12" size-md="6">
              <button
                type="button"
                class="btn-custom"
                (click)="fnGoToPrescription()"
              >
                Generar receta
              </button>
            </ion-col>
          </ion-row>
        </ion-col>
        <ion-col size="12" size-md="4">
          <!--Calendario con fechas-->
          <ion-datetime
            presentation="date"
            show-adjacent-days="true"
            [highlightedDates]="highlightedDates"
          ></ion-datetime>

          <ion-accordion-group expand="inset">
            <ion-accordion value="first">
              <ion-item slot="header" color="rose">
                <ion-label>Agenda</ion-label>
              </ion-item>
              <div class="ion-padding" slot="content">
                <!--Aquí se hará una lista de cards por cada cita-->
                @for (date of dates; track $index) {
                <ion-card>
                  <ion-card-header>
                    <ion-card-title>{{date.date}}</ion-card-title>
                    <ion-card-subtitle>{{date.hour}}</ion-card-subtitle>
                  </ion-card-header>

                  <ion-card-content> {{date.description}} </ion-card-content>
                </ion-card>
                }
              </div>
            </ion-accordion>
          </ion-accordion-group>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-content>
</div>
}

@else {
<div class="ion-page" id="main-content">
  <ion-header>
    <ion-toolbar>
      <ion-title style="text-align: center">VirtualMed</ion-title>
      <ion-buttons slot="end">
        <ion-button (click)="fnLogout()" color="light">
          <ion-icon slot="icon-only" name="log-out-outline"></ion-icon>
        </ion-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>

  <ion-content [fullscreen]="true">
    <ion-grid>
      <ion-row>
        <ion-col size="12" size-md="8">
          <ion-row>
            <ion-col>
              <h1 class="title">{{greeting}}</h1>
              <br />
              <h2>¿Qué deseas hacer hoy?</h2>
              <br />
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <button
                type="button"
                class="btn-custom"
                (click)="fnGoToCreateAppointment()"
              >
                Agendar cita
              </button>
            </ion-col>

            <ion-col size="12" size-md="6">
              <button
                type="button"
                class="btn-custom"
                (click)="fnGoToManagement()"
              >
                Ver mis citas
              </button>
            </ion-col>

            <ion-col size="12" size-md="6">
              <button
                type="button"
                class="btn-custom"
                (click)="fnGoToProfile()"
              >
                Mi Perfil
              </button>
            </ion-col>
          </ion-row>
        </ion-col>
      </ion-row>
    </ion-grid>
    
    <ion-fab slot="fixed" vertical="bottom" horizontal="end">
      <ion-fab-button>
        <ion-icon name="chevron-up-circle"></ion-icon>
      </ion-fab-button>
      <ion-fab-list side="top">
  
  <ion-fab-button color="tertiary" (click)="fnGoToChatbot()">
    <ion-icon name="chatbubbles"></ion-icon>
  </ion-fab-button>
  
  <ion-fab-button (click)="fnGoToSettings()">
    <ion-icon name="settings"></ion-icon>
  </ion-fab-button>
  
  <ion-fab-button (click)="setOpen(true)">
    <ion-icon name="notifications"></ion-icon>
  </ion-fab-button>

</ion-fab-list>
      </ion-fab>

      <ion-modal [isOpen]="isModalOpen">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-title>Notificaciones</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="setOpen(false)">Close</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        <p>
          Usted está al día.
        </p>
      </ion-content>
    </ng-template>
  </ion-modal>
  </ion-content>
</div>
}